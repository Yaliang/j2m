<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="google-site-verification" content="zqi1qvIiwocwoL_b0haed8dM1LCW1J5RgaahmKOngTE" />
    <!-- Disable automatic phone number detection. -->
    <meta name="format-detection" content="telephone=no">
    
    <!--Name of the web app-->
    <title></title>
 
    <!-- Prevent text size change on orientation change. -->
    <style>
      html {
        -webkit-text-size-adjust: 100%;
      }
    </style>

    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
    <link rel="stylesheet" href="./index.css" />
    <script src="http://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="./script/fastclick-master/lib/fastclick.js"></script>
    <script src="./script/pageTransition.js"></script>
</head>

<body style="-webkit-backface-visibility:hidden">
    <div id="init" data-role="page" data-title="" data-transition="none">
        <div class="ctrl-page-header" id="init-header" data-role="header"></div><!-- header -->
        <div class="ctrl-page-content ui-content" id="init-content" role="main"></div><!-- /content -->
        <div class="ctrl-page-footer" id="init-footer" data-role="footer"></div><!-- /footer -->
    </div><!-- /page -->

    <script type="text/javascript">
        window.FastClick.attach(document.body)

        window.addEventListener('popstate', function(event){
            console.log(event.state)
            window.history.replaceState(event.state, event.state.title, event.state.url)
        }, false)

        window.addEventListener("touchmove", function(event) {
            event.preventDefault()
        }, false)


        fackget = {
            num: 1,
            get: function(id) {
                console.log("called fackget")
                var obj = {}
                // var randstr = Math.random().toString().substr(2)
                var randstr = this.num.toString()
                if (typeof id != "undefined" && id != null) {
                    randstr = id
                }
                this.num += 1
                var dd = Math.round(Math.random()*1000)
                var strdd = ""
                for (var i=0; i< dd; i++) {
                    strdd += Math.round(Math.random()*10).toString()
                }
                obj.pageid = randstr
                obj.pageId = randstr
                obj.header = "<h1>Title</h1><a href='#' data-href='' data-nav='back'>Back</a>"
                obj.main = "<a href='#' data-href='"+this.num.toString()+"' data-transition='none'>To "+this.num.toString()+"</a><p style='word-break: break-all;'>"+strdd+"</p>"
                obj.content = obj.main
                obj.footer = "<h1>Footer</h1>"
                console.log("fackget return")
                return obj
            }
        }

        window.onhashchange = function() {
            console.log("hash changed")
        }

        pageTransition.init("body",{
            // initScale: 1
        })

        
        
    </script>

</body>

</html>